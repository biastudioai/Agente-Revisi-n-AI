üìã PROMPT PARA AGENTE BUILD - CAMPO NORMALIZADO EDITABLE CON SUGERENCIA AUTOM√ÅTICA
üéØ CONTEXTO DEL PROBLEMA
Estamos trabajando en el componente RuleEditor.tsx que permite crear reglas de validaci√≥n para m√∫ltiples aseguradoras (GNP, METLIFE).

Funcionalidad actual:

El usuario puede seleccionar m√∫ltiples aseguradoras con checkboxes
Cuando selecciona 2+ aseguradoras, aparece una secci√≥n "Paths por Aseguradora" donde debe mapear el path espec√≠fico de cada una
Los paths tienen autocomplete basado en los schemas reales de cada aseguradora
PROBLEMA DETECTADO:

Cuando el usuario selecciona GNP + METLIFE (2 aseguradoras), todo el formulario se pone en blanco
Esto caus√≥ un rollback completo de los cambios propuestos
La causa fue un error en la l√≥gica de manejo de estados cuando hay m√∫ltiples providers seleccionados
üéØ OBJETIVO DE ESTA TAREA
Implementar un campo de nombre normalizado editable con las siguientes caracter√≠sticas:

Requerimientos:
Sugerencia Autom√°tica Inteligente:

Cuando el usuario mapea paths de diferentes aseguradoras, el sistema debe sugerir autom√°ticamente un nombre normalizado
La sugerencia debe basarse en el segmento com√∫n m√°s descriptivo de los paths mapeados
Ejemplo: Si los paths son:
GNP: equipo_quirurgico_metlife.otro_2.celular
METLIFE: equipo_quirurgico_metlife.otro_2.email
Sugerencia: otro_2 (evitando solo el prefijo de aseguradora)
Campo Editable:

El usuario puede editar manualmente el nombre sugerido
Debe mostrarse como un input de texto normal (NO readonly)
Pre-llenado con la sugerencia autom√°tica
UX Mejorada:

Tooltip explicando por qu√© se sugiri√≥ ese nombre
Validaci√≥n para evitar nombres duplicados entre condiciones
Placeholder descriptivo cuando est√° vac√≠o
Casos de Uso:

Paths con prefijos de aseguradora: equipo_quirurgico_metlife ‚Üí usuario puede cambiar a medico_otro_2
Paths gen√©ricos: signos_vitales.peso ‚Üí sugerencia peso
Paths complejos: usuario decide el mejor nombre descriptivo
‚ö†Ô∏è RESTRICCI√ìN CR√çTICA
NO MODIFICAR la l√≥gica de selecci√≥n de m√∫ltiples aseguradoras.

El problema anterior (formulario en blanco) fue causado por cambios en:

Manejo del estado providerTargets
L√≥gica de fieldMappings
Renderizado condicional de la secci√≥n de paths
SOLO AGREGAR:

Un nuevo campo de input para el nombre normalizado
L√≥gica para generar la sugerencia autom√°tica basada en los paths mapeados
Funcionalidad de edici√≥n manual del nombre
NO TOCAR:

Sistema de checkboxes de aseguradoras
L√≥gica de autocomplete de paths
Persistencia de fieldMappings
üõ†Ô∏è SOLUCI√ìN RECOMENDADA (Sugerencia, puedes optimizar)
Paso 1: Agregar estado para nombre normalizado
const [normalizedFieldName, setNormalizedFieldName] = useState<string>('');
Paso 2: Funci√≥n para generar sugerencia autom√°tica
Crear una funci√≥n que:

Recibe los paths mapeados de cada aseguradora
Encuentra el segmento com√∫n m√°s descriptivo
Evita usar solo prefijos de aseguradoras
Retorna la sugerencia
Paso 3: Actualizar la UI
En la secci√≥n "Paths por Aseguradora" (que aparece cuando hay m√∫ltiples providers):

Agregar un input de texto editable
Pre-llenarlo con la sugerencia autom√°tica
Permitir edici√≥n manual
Agregar tooltip explicativo
Paso 4: Persistir el nombre normalizado
Guardarlo como parte de la condici√≥n o en fieldMappings seg√∫n lo que tenga m√°s sentido arquitect√≥nicamente.

üìù ARCHIVOS A MODIFICAR
Principal:

components/RuleEditor.tsx (agregar campo normalizado editable)
Opcional:

types.ts (si necesitas agregar tipo para el nombre normalizado)
‚úÖ CRITERIOS DE √âXITO
‚úÖ Al mapear paths de diferentes aseguradoras, se sugiere autom√°ticamente un nombre normalizado
‚úÖ El usuario puede editar el nombre sugerido libremente
‚úÖ La sugerencia es inteligente (no solo el prefijo de aseguradora)
‚úÖ Seleccionar GNP + METLIFE NO causa que el formulario se ponga en blanco
‚úÖ La funcionalidad de autocomplete de paths sigue funcionando
‚úÖ El nombre normalizado se guarda correctamente al crear la regla
üö® NOTA IMPORTANTE
Si encuentras una forma m√°s √≥ptima o eficiente de implementar esto (por ejemplo, usando un patr√≥n diferente o una arquitectura mejor), tienes libertad total de hacerlo. Estas son sugerencias, no restricciones absolutas.

Lo √∫nico NO NEGOCIABLE es que seleccionar m√∫ltiples aseguradoras no debe romper el formulario.

¬øNecesitas alguna aclaraci√≥n sobre alg√∫n punto espec√≠fico?