PROMPT PARA AGENTE BUILD: VALIDACI√ìN DE PATHS DE METLIFE
CONTEXTO DEL PROYECTO
Est√°s trabajando en un Auditor M√©dico IA que procesa PDFs de informes m√©dicos de diferentes aseguradoras (GNP y METLIFE). El sistema usa Gemini para extraer datos y luego normaliza esos datos usando configuraciones de mapeo en config/aseguradora-configs.ts.

OBJETIVO
Necesito que ejecutes el script de validaci√≥n de paths (scripts/validate-paths.ts) para verificar que la configuraci√≥n de METLIFE en aseguradora-configs.ts coincida con la estructura JSON real que devuelve Gemini.

ESTADO ACTUAL
‚úÖ Ya actualic√© el archivo scripts/validate-paths.ts con el JSON real completo de METLIFE que obtuve al procesar un documento.

‚ùå No pude ejecutar el script por limitaciones del modo Plan.

ARCHIVO CLAVE: scripts/validate-paths.ts
El script ya contiene:

metlifeRealJson: JSON real procesado por Gemini (ya actualizado con todos los campos, incluyendo equipo_quirurgico_metlife, tipo_atencion_audit, tipo_padecimiento_audit)
Funciones de validaci√≥n que comparan paths de CONFIG_METLIFE con el JSON real
Reporte visual que muestra:
‚úÖ Paths correctos (existen en JSON y config)
‚ùå Paths incorrectos (configurados pero no existen en JSON)
‚ö†Ô∏è Campos sin mapear (existen en JSON pero no est√°n en config)
TU TAREA
1Ô∏è‚É£ EJECUTAR EL SCRIPT
npx ts-node scripts/validate-paths.ts
2Ô∏è‚É£ ANALIZAR LA SALIDA
El script mostrar√° dos secciones:

A) VALIDACI√ìN DE GNP (puedes ignorarla por ahora)

B) VALIDACI√ìN DE METLIFE ‚Üê FOCO AQU√ç

Busca en la salida:

üìã VALIDACI√ìN DE PATHS - METLIFE
============================================================
üîç PATHS DEL CHECKLIST:
‚úÖ paciente.nombre ‚Üí identificacion.nombres
‚ùå paciente.sexo ‚Üí identificacion.sexo (NO EXISTE)  ‚Üê ESTO ES UN ERROR
...
‚ö†Ô∏è CAMPOS EN JSON REAL QUE NO EST√ÅN MAPEADOS:
   ‚Ä¢ equipo_quirurgico_metlife.anestesiologo.nombre
   ‚Ä¢ medico_tratante.tipo_atencion_audit.medico_tratante_marcado
   ...
3Ô∏è‚É£ REPORTAR HALLAZGOS
Mu√©strame la salida completa del script y luego identifica:

‚ùå ERRORES CR√çTICOS (Paths que NO existen en el JSON real):
¬øQu√© paths est√°n configurados en aseguradora-configs.ts pero NO existen en el JSON?
Ejemplo: Si el config dice identificacion.apellido_paterno pero el JSON solo tiene identificacion.nombres, eso es un error.
‚ö†Ô∏è CAMPOS SIN MAPEAR (Existen en JSON pero no est√°n en config):
¬øQu√© campos est√°n en el JSON real pero NO se est√°n mapeando?
Campos importantes que probablemente falten:
equipo_quirurgico_metlife.* (todo el equipo quir√∫rgico)
medico_tratante.tipo_atencion_audit.* (auditor√≠a de checkboxes)
padecimiento_actual.tipo_padecimiento_audit.* (auditor√≠a de tipo de padecimiento)
medico_tratante.domicilio_consultorio
medico_tratante.honorarios_* (todos los honorarios)
4Ô∏è‚É£ PROPONER CORRECCIONES EN aseguradora-configs.ts
Bas√°ndote en los hallazgos, prop√≥n las correcciones necesarias en config/aseguradora-configs.ts para:

Corregir paths incorrectos (los que marcaron ‚ùå)
Agregar campos faltantes importantes (especialmente equipo_quirurgico_metlife, auditor√≠as de checkboxes, honorarios)
EJEMPLO DE LO QUE ESPERO VER
Salida del script:

‚ùå medico_tratante.apellido_paterno ‚Üí medico_tratante.nombres (NO EXISTE)
‚ö†Ô∏è CAMPOS SIN MAPEAR:
   ‚Ä¢ equipo_quirurgico_metlife.anestesiologo.nombre
   ‚Ä¢ medico_tratante.tipo_atencion_audit.medico_tratante_marcado
Tu respuesta:

ERRORES ENCONTRADOS:
1. medico_tratante.apellido_paterno ‚Üí El JSON tiene nombres completo, no separado
2. Falta mapear equipo_quirurgico_metlife completo
3. Falta mapear tipo_atencion_audit
CORRECCIONES PROPUESTAS:
- Cambiar parser de apellido_paterno para extraer del campo nombres
- Agregar mappings para equipo_quirurgico_metlife
- Agregar mappings para auditor√≠as
NOTAS IMPORTANTES
NO modifiques scripts/validate-paths.ts (el JSON ya est√° actualizado)
SOLO ejecuta y analiza los resultados
Si el agente tiene una forma m√°s √≥ptima de validar o corregir los paths, tiene libertad de implementarla
Prioriza los campos cr√≠ticos que bloquean la funcionalidad (nombres, c√©dulas, fechas, diagn√≥stico)
